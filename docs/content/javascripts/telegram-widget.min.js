!function(window){!function(window){window.__parseFunction=function(__func,__attrs){return __attrs=__attrs||[],__func="(function("+__attrs.join(",")+"){"+__func+"})",window.execScript?window.execScript(__func):eval(__func)}}(window),function(A){function C(e,t,r){for(var n=t.split(/\s+/),a=0;a<n.length;a++)e.addEventListener?e.addEventListener(n[a],r):e.attachEvent("on"+n[a],r)}function E(e,t,r){for(var n=t.split(/\s+/),a=0;a<n.length;a++)e.removeEventListener?e.removeEventListener(n[a],r):e.detachEvent("on"+n[a],r)}function I(e,t){return A.getComputedStyle?A.getComputedStyle(e,"").getPropertyValue(t)||null:e.currentStyle&&e.currentStyle[t]||null}function o(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e instanceof HTMLElement?e:null}function R(e,t){var r=document.createElement("A");return r.href=document.currentScript&&document.currentScript.src||e,"https://telegram.org"==(r=r.origin||r.protocol+"//"+r.hostname)?r=e:"https://telegram-js.azureedge.net"!=r&&"https://tg.dev"!=r||(r=t),r}function S(e,t,r,n){try{(r=r||{}).event=t,n&&(r._cb=++A.Telegram.__WidgetLastId,A.Telegram.__WidgetCallbacks[r._cb]={iframe:e,callback:n}),e.contentWindow.postMessage(JSON.stringify(r),"*")}catch(e){}}function e(e){var n,a,o,t={},r=[],i=!1;if(e.tagName&&("SCRIPT"==e.tagName.toUpperCase()||"BLOCKQUOTE"==e.tagName.toUpperCase()&&e.classList.contains("telegram-post"))){if(e._iframe)return e._iframe;if(p=e.getAttribute("data-telegram-post")){var l=e.getAttribute("data-comment")||"",s=R("https://t.me","https://post.tg.dev"),c="telegram-post-"+p.replace(/[^a-z0-9_]/gi,"-")+(l?"-comment"+l:""),u=s+"/"+p+"?embed=1",r=["comment","userpic","single?","color","dark","dark_color"],d=e.getAttribute("data-width")||"100%",l="";t.minWidth="320px"}else if(p=e.getAttribute("data-telegram-discussion")){s=R("https://t.me","https://post.tg.dev"),c="telegram-discussion-"+p.replace(/[^a-z0-9_]/gi,"-")+"-"+ ++A.Telegram.__WidgetUuid;var g=(g=e.getAttribute("data-page-url"))||function(){var e,t,r=document.createElement("A");if(document.querySelector){if((e=document.querySelector('link[rel="canonical"]'))&&(t=e.getAttribute("href")))return r.href=t,r.href}else for(var n=document.getElementsByTagName("LINK"),a=0;a<n.length;a++)if((e=n[a])&&"canonical"==e.getAttribute("rel")&&(t=e.getAttribute("href")))return r.href=t,r.href;return!1}();u=s+"/"+p+"?embed=1&discussion=1"+(g?"&page_url="+encodeURIComponent(g):""),r=["comments_limit","color","colorful","dark","dark_color","width","height"],d=e.getAttribute("data-width")||"100%",l=e.getAttribute("data-height")||0,t.minWidth="320px",0<l&&(i=!0)}else if(e.hasAttribute("data-telegram-login")){var m,p=e.getAttribute("data-telegram-login");s=R("https://oauth.telegram.org","https://oauth.tg.dev"),c="telegram-login-"+p.replace(/[^a-z0-9_]/gi,"-"),u=s+"/embed/"+p+"?origin="+encodeURIComponent(location.origin||location.protocol+"//"+location.hostname),r=["size","userpic","init_auth","request_access","radius","min_width","max_width","lang"],d=186,l=28,e.hasAttribute("data-size")&&("small"==(g=e.getAttribute("data-size"))?(d=148,l=20):"large"==g&&(d=238,l=40)),e.hasAttribute("data-onauth")?n=a=__parseFunction(e.getAttribute("data-onauth"),["user"]):e.hasAttribute("data-auth-url")&&((m=document.createElement("A")).href=e.getAttribute("data-auth-url"),a=function(e){var t=m.href;t+=0<=t.indexOf("?")?"&":"?";var r,n=[];for(r in e)n.push(r+"="+encodeURIComponent(e[r]));t+=n.join("&"),location.href=t}),e.hasAttribute("data-onunauth")&&(o=__parseFunction(e.getAttribute("data-onunauth")))}else{if(!(p=e.getAttribute("data-telegram-share-url")))return;s=R("https://t.me","https://post.tg.dev"),c="telegram-share-"+A.btoa(p),u=s+"/share/embed?origin="+encodeURIComponent(location.origin||location.protocol+"//"+location.hostname),r=["telegram-share-url","comment","size","text"],d=60,l=20,"large"==e.getAttribute("data-size")&&(d=76,l=28)}if(p=document.getElementById(c))return p;for(var h=0;h<r.length;h++){var f=r[h],_="?"==f.substr(-1),b="data-"+(f=_?f.slice(0,-1):f).replace(/_/g,"-");e.hasAttribute(b)&&(u+="&"+f+"="+(_?"1":encodeURIComponent(e.getAttribute(b))))}var v,w=document.createElement("iframe");for(v in w.id=c,w.src=u,w.width=d,w.height=l,w.setAttribute("frameborder","0"),i||(w.setAttribute("scrolling","no"),w.style.overflow="hidden"),w.style.border="none",t)w.style[v]=t[v];return e.parentNode&&(e.parentNode.insertBefore(w,e),"BLOCKQUOTE"==e.tagName.toUpperCase()&&e.parentNode.removeChild(e)),C(e._iframe=w,"load",function(){E(w,"load",y),C(A,"scroll",y),C(A,"resize",y),y()}),C(A,"focus blur",T),C(A,"message",function(e){if(e.source===w.contentWindow&&e.origin==s){try{var t=JSON.parse(e.data)}catch(e){t={}}if("resize"==t.event)t.height&&(w.style.height=t.height+"px"),t.width&&(w.style.width=t.width+"px");else if("ready"==t.event)T();else if("visible_off"==t.event)E(A,"scroll",y),E(A,"resize",y);else if("get_coords"==t.event)S(w,"callback",{_cb:t._cb,value:(e=w,r=document.documentElement,{frameTop:(e=e.getBoundingClientRect()).top,frameBottom:e.bottom,frameLeft:e.left,frameRight:e.right,frameWidth:e.width,frameHeight:e.height,scrollTop:A.pageYOffset,scrollLeft:A.pageXOffset,clientWidth:r.clientWidth,clientHeight:r.clientHeight})});else if("scroll_to"==t.event)try{A.scrollTo(t.x||0,t.y||0)}catch(e){}else"auth_user"==t.event?t.init?n&&n(t.auth_data):a&&a(t.auth_data):"unauthorized"==t.event?o&&o():"callback"==t.event&&(r=null,(r=A.Telegram.__WidgetCallbacks[t._cb])?r.iframe===w&&(r.callback(t.value),delete A.Telegram.__WidgetCallbacks[t._cb]):console.warn("Callback #"+t._cb+" not found"));var r}}),w}function y(){!function(e,t){var r=e;if("hidden"==I(r,"visibility"))return!1;for(;r&&r!==document.documentElement;){if("none"==I(r,"display"))return!1;var n=I(r,"opacity");if(null!==n&&n<.1)return!1;r=r.parentNode}if(e.getBoundingClientRect){t=+t||0;var a=e.getBoundingClientRect(),e=document.documentElement;if(a.bottom<t||a.right<t||a.top>(A.innerHeight||e.clientHeight)-t||a.left>(A.innerWidth||e.clientWidth)-t)return!1}return!0}(w,50)||S(w,"visible",{frame:c})}function T(){S(w,"focus",{has_focus:document.hasFocus()})}}function i(){return document.querySelectorAll?document.querySelectorAll("script[data-telegram-post],blockquote.telegram-post,script[data-telegram-discussion],script[data-telegram-login],script[data-telegram-share-url]"):Array.prototype.slice.apply(document.getElementsByTagName("SCRIPT")).concat(Array.prototype.slice.apply(document.getElementsByTagName("BLOCKQUOTE")))}if(A.Telegram||(A.Telegram={}),A.Telegram.__WidgetUuid||(A.Telegram.__WidgetUuid=0),A.Telegram.__WidgetLastId||(A.Telegram.__WidgetLastId=0),A.Telegram.__WidgetCallbacks||(A.Telegram.__WidgetCallbacks={}),!document.currentScript||!e(document.currentScript))for(var t=i(),r=0;r<t.length;r++)e(t[r]);var c={popups:{},auth:function(t,r){var n=parseInt(t.bot_id);if(!n)throw new Error("Bot id required");function a(e){c.popups[n]&&(c.popups[n].authFinished||(r&&r(e),c.popups[n].authFinished=!0,E(A,"message",l)))}function o(e){if(c.popups[e])return!c.popups[e].window||c.popups[e].window.closed?c.getAuthData(t,function(e,t){a(t)}):void setTimeout(o,100,e)}var e=Math.max(0,(screen.width-550)/2)+(0|screen.availLeft),i=Math.max(0,(screen.height-470)/2)+(0|screen.availTop),l=function(e){try{var t=JSON.parse(e.data)}catch(e){t={}}c.popups[n]&&e.source===c.popups[n].window&&"auth_result"==t.event&&a(t.result)},s=Telegram.Login.widgetsOrigin+"/auth?bot_id="+encodeURIComponent(t.bot_id)+"&origin="+encodeURIComponent(location.origin||location.protocol+"//"+location.hostname)+(t.request_access?"&request_access="+encodeURIComponent(t.request_access):"")+(t.lang?"&lang="+encodeURIComponent(t.lang):""),i=A.open(s,"telegram_oauth_bot"+n,"width=550,height=470,left="+e+",top="+i+",status=0,location=0,menubar=0,toolbar=0");c.popups[n]={window:i,authFinished:!1},i&&(C(A,"message",l),i.focus(),o(n))},getAuthData:function(e,r){if(!parseInt(e.bot_id))throw new Error("Bot id required");var n="Microsoft Internet Explorer"==navigator.appName?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,t=Telegram.Login.widgetsOrigin+"/auth/get";n.open("POST",t),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onreadystatechange=function(){if(4==n.readyState)if(void 0===n.responseBody&&n.responseText){try{var t=JSON.parse(n.responseText)}catch(e){t={}}t.user?r(t.origin,t.user):r(t.origin,!1)}else r("*",!1)},n.onerror=function(){r("*",!1)},n.withCredentials=!0,n.send("bot_id="+encodeURIComponent(e.bot_id)+(e.lang?"&lang="+encodeURIComponent(e.lang):""))}};A.Telegram.getWidgetInfo=function(e,t){var r=null;(el=o(e))&&(el.tagName&&"IFRAME"==el.tagName.toUpperCase()?r=el:el._iframe&&(r=el._iframe),r&&t&&S(r,"get_info",{},t))},A.Telegram.setWidgetOptions=function(e,t){var r=null;if(void 0===t)for(var n=i(),a=0;a<n.length;a++)(r=n[a]._iframe)&&S(r,"set_options",{options:e});else(el=o(t))&&(el.tagName&&"IFRAME"==el.tagName.toUpperCase()?r=el:el._iframe&&(r=el._iframe),r&&S(r,"set_options",{options:e}))},A.Telegram.Login={auth:c.auth,widgetsOrigin:R("https://oauth.telegram.org","https://oauth.tg.dev")}}(window)}(window);